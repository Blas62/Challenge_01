//*************************************************************************************************
// Criptopals Challenge rev. 2
//*************************************************************************************************
// Set 1
// Challenge 01
// Convert hex to base64
//-------------------------------------------------------------------------------------------------
// include
#include <stdio.h>
#include <stdlib.h>
#include "DJPLibrary.h"
//-------------------------------------------------------------------------------------------------
// define

//-------------------------------------------------------------------------------------------------
// namespace
using namespace jplibrary::hex;
using namespace jplibrary::base64;
//-------------------------------------------------------------------------------------------------
int main()
{
	//*********************************************************************************************
	printf("+--------------------------------------------------------------------------------+\n");
	printf("| Set 01 - Challenge 01                                                          |\n");
	printf("| Convert hex to base64                                                          |\n");
	printf("+--------------------------------------------------------------------------------+\n");
	//*********************************************************************************************
	// Inizio corpo principale
	//---------------------------------------------------------------------------------------------
	// Testo iniziale
	// 49276d206b696c6c696e6720796f7572
	// 20627261696e206c696b65206120706f
	// 69736f6e6f7573206d757368726f6f6d
	//---------------------------------------------------------------------------------------------
	// Risultato finale
	// SSdtIGtpbGxpbmcgeW91ciBicmFpbiBsaWtlIGEgcG9pc29ub3VzIG11c2hyb29t
	//---------------------------------------------------------------------------------------------
	// Dichiara le variabili
	DHexadecimal Hex;
	DBase64 Base64;
	char HexText[] = "49276d206b696c6c696e6720796f757220627261696e206c696b65206120706f"
		"69736f6e6f7573206d757368726f6f6d";
	//---------------------------------------------------------------------------------------------
	// Converte la stringa in array esadecimale
	char* Text = (char*)Hex.string_to_hex(HexText);
	printf("Il testo da convertire e': \n\t%s\n", Text);
	//---------------------------------------------------------------------------------------------
	// Converte l'array esadecimale in stringa codificata base64
	char* B64Text = Base64.hex_to_base64(Text);
	printf("Il testo in base64 e':\n\t%s\n", B64Text);
	//---------------------------------------------------------------------------------------------
	// Fine corpo principale
	//*********************************************************************************************
	printf("----------------------------------------------------------------------------------\n");
	system("pause");
	return 0;
}
